(this["webpackJsonpbestpractices-klimaschutz"]=this["webpackJsonpbestpractices-klimaschutz"]||[]).push([[0],{377:function(e,t,n){},379:function(e,t,n){},690:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(15),o=n.n(a),s=(n(377),n(14)),d=n(20),l=n.n(d),c=n(49),u=(n(379),n(380),n(381),n(382),n(383),n(55)),b=n(225),j=n(45),v=n(40),h=n(369),m=n(226),p=n(371),f=n(367),g=n(153),O=n(8),x=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,i,r,a,o,s,d,c,u,b,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.b)(t,(function(e){return e.thema.icon}));case 2:return c=e.sent,u=(null===c||void 0===c||null===(n=c.standort)||void 0===n?void 0:n.name)||"Kein Standort","Feature",!1,b=null===c||void 0===c||null===(i=c.standort)||void 0===i?void 0:i.geojson,null===c||void 0===c||null===(r=c.thema)||void 0===r?void 0:r.farbe,c.color=null===c||void 0===c?void 0:c.thema.farbe,j={header:c.thema.name,title:u,additionalInfo:null===c||void 0===c?void 0:c.beschreibung,subtitle:Object(O.jsxs)("span",{children:[null===c||void 0===c||null===(a=c.standort)||void 0===a?void 0:a.strasse," ",null===c||void 0===c||null===(o=c.standort)||void 0===o?void 0:o.hausnummer,Object(O.jsx)("br",{}),null===c||void 0===c||null===(s=c.standort)||void 0===s?void 0:s.plz," ",null===c||void 0===c||null===(d=c.standort)||void 0===d?void 0:d.stadt]})},c.info=j,c.url=null===c||void 0===c?void 0:c.website,c.bild&&(c.foto="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+c.bild),e.abrupt("return",{text:u,type:"Feature",selected:false,geometry:b,crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::25832"}},properties:c});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=n(12),y=n(21),S=n(268),w=n(372),C=function(){var e=Object(i.useContext)(y.a),t=e.selectedFeature,n=e.items,r=null===t||void 0===t?void 0:t.properties;if(void 0!==r){var a,o,s,d,l,c,u,b,j,v,h,m;void 0!==r.bild&&(m="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+r.bild);var p,f=n.filter((function(e){return(null===e||void 0===e?void 0:e.standort.id)===r.standort.id&&e.id!==r.id})),g={},x=Object(k.a)(f);try{for(x.s();!(p=x.n()).done;){var C=p.value;void 0===g[C.thema.name]&&(g[C.thema.name]=[]),g[C.thema.name].push(C.kategorien)}}catch(A){x.e(A)}finally{x.f()}var F=[Object(O.jsx)(S.a,{bsStyle:"info",header:"Standort: "+(null===r||void 0===r||null===(a=r.standort)||void 0===a?void 0:a.name),children:Object(O.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[(null===r||void 0===r?void 0:r.standort)&&Object(O.jsxs)("b",{children:[null===r||void 0===r||null===(o=r.standort)||void 0===o?void 0:o.strasse," ",null===r||void 0===r||null===(s=r.standort)||void 0===s?void 0:s.hausnummer,Object(O.jsx)("br",{}),null===r||void 0===r||null===(d=r.standort)||void 0===d?void 0:d.plz," ",null===r||void 0===r||null===(l=r.standort)||void 0===l?void 0:l.stadt,Object(O.jsx)("br",{})]}),(null===r||void 0===r||null===(c=r.standort)||void 0===c?void 0:c.beschreibung)&&Object(O.jsxs)("div",{children:[null===r||void 0===r||null===(u=r.standort)||void 0===u?void 0:u.beschreibung,Object(O.jsx)("br",{})]}),(null===r||void 0===r||null===(b=r.standort)||void 0===b?void 0:b.bemerkung)&&Object(O.jsxs)("div",{children:[null===r||void 0===r||null===(j=r.standort)||void 0===j?void 0:j.bemerkung," ",Object(O.jsx)("br",{})]}),(null===r||void 0===r||null===(v=r.standort)||void 0===v?void 0:v.kommentar)&&Object(O.jsxs)("div",{children:[null===r||void 0===r||null===(h=r.standort)||void 0===h?void 0:h.kommentar," ",Object(O.jsx)("br",{})]})]})},"standort")];f.length>0&&F.push(Object(O.jsx)(S.a,{header:"Weitere Angebote an diesem Standort:",bsStyle:"success",children:Object(O.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(O.jsx)("table",{border:0,style:{xwidth:"100%"},children:Object(O.jsx)("tbody",{children:Object.keys(g).map((function(e,t){return Object(O.jsxs)("tr",{style:{paddingBottom:10},children:[Object(O.jsxs)("td",{style:{verticalAlign:"top",padding:5},children:[e,":"]},"addAng.L."+t),Object(O.jsx)("td",{style:{verticalAlign:"top",padding:5},children:g[e].map((function(e,t){return Object(O.jsx)("div",{children:e.join(", ")},"kategorien."+t)}))},"addAng.R."+t)]},"addAng"+t)}))})})})},"weitereAngebote"));var z=void 0;return void 0!==m&&(z=250),Object(O.jsx)(w.a,{titleIconName:"info-circle",title:"Datenblatt: "+r.kategorien.join(", "),mainSection:Object(O.jsxs)("div",{style:{width:"100%",minHeight:z},children:[void 0!==m&&Object(O.jsx)("img",{alt:"Bild",style:{paddingLeft:10,paddingRight:10,float:"right",paddingBottom:"5px"},src:m,width:"250"}),Object(O.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[r.beschreibung&&Object(O.jsxs)("b",{children:[r.beschreibung,Object(O.jsx)("br",{})]}),r.bemerkung&&Object(O.jsxs)("div",{children:[r.bemerkung," ",Object(O.jsx)("br",{})]}),r.kommentar&&Object(O.jsxs)("div",{children:[r.kommentar," ",Object(O.jsx)("br",{})]})]})]}),subSections:F})}return null},F=n(6),z=n(22),A=n(112),I=n(212),T=n(110),K=n(370),B=n(222),L=n(218),M=function(){var e,t=Object(i.useContext)(z.b).setAppMenuActiveMenuSection,n=Object(i.useContext)(y.a),r=n.filterState,a=n.filterMode,o=n.filteredItems,s=n.shownFeatures,d=Object(i.useContext)(y.b),l=d.setFilterState,c=d.setFilterMode,u=Object(i.useContext)(y.a).items,b=[],j=[],h=[],m=[],p=Object(k.a)(u||[]);try{for(p.s();!(e=p.n()).done;){var f,g=e.value,x=Object(k.a)(g.kategorien);try{for(x.s();!(f=x.n()).done;){var S=f.value;b.includes(S)||(j.push({key:S}),b.push(S))}}catch(C){x.e(C)}finally{x.f()}h.includes(g.thema.id)||(h.push(g.thema.id),m.push({key:g.thema.id,title:g.thema.name,color:g.thema.farbe}))}}catch(C){p.e(C)}finally{p.f()}var w={mode:"tabs",filters:[{title:"Themen",key:"themen",icon:"folder",type:"tags",values:m,setAll:function(){l(Object(F.a)(Object(F.a)({},r),{},{themen:h}))},setNone:function(){l(Object(F.a)(Object(F.a)({},r),{},{themen:[]}))},colorizer:function(e,t){return t?e.color:"#eeeeee"}},{title:"Kategorien",key:"kategorien",icon:"tags",type:"tags",values:j,setAll:function(){l(Object(F.a)(Object(F.a)({},r),{},{kategorien:b}))},setNone:function(){l(Object(F.a)(Object(F.a)({},r),{},{kategorien:[]}))}}]};void 0===r&void 0!==u&&l({kategorien:b,themen:h}),void 0===a&void 0!==u&&c("themen");return Object(O.jsx)(I.a,{menuIcon:"bars",menuTitle:"Filter, Einstellungen und Kompaktanleitung",menuIntroduction:Object(O.jsxs)("span",{children:["Benutzen Sie die Auswahlm\xf6glichkeiten unter"," ",Object(O.jsx)(A.Link,{className:"useAClassNameToRenderProperLink",to:"filter",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("filter")},children:"Filter"}),", um die in der Karte angezeigten vorbildlichen Klimastandorte auf die f\xfcr Sie relevanten Themen zu beschr\xe4nken. \xdcber Einstellungen"," ",Object(O.jsx)(A.Link,{className:"useAClassNameToRenderProperLink",to:"settings",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("settings")},children:"Einstellungen"})," ","k\xf6nnen Sie die Darstellung der Hintergrundkarte und der klimarelevanten Themen an Ihre Interesse anpassen. W\xe4hlen Sie die Kompaktanleitung"," ",Object(O.jsx)(A.Link,{className:"useAClassNameToRenderProperLink",to:"help",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("help")},children:"Kompaktanleitung"})," ","f\xfcr detailliertere Bedienungsinformationen."]}),menuSections:[Object(O.jsx)(T.a,{sectionKey:"filter",sectionTitle:function(){var e,t=(null===o||void 0===o?void 0:o.length)||0;return e=1===t?"Standort":"Standorte","Meine Klimastandorte (".concat(t," ").concat(e," gefunden, davon ").concat((null===s||void 0===s?void 0:s.length)||"0"," in der Karte)")}(),sectionBsStyle:"primary",sectionContent:Object(O.jsx)(K.a,{filterConfiguration:w})},"filter"),Object(O.jsx)(B.a,{},"settings"),Object(O.jsx)(T.a,{sectionKey:"help",sectionTitle:"Kompaktanleitung",sectionBsStyle:"default",sectionContent:Object(O.jsx)(L.a,{configs:Object(v.d)("Best Practice Klimaschutz",undefined)})},"help")]})},N=function(e){var t=e.filterState,n=e.filterMode;return function(e){var i;if("themen"===n)return null===t||void 0===t||null===(i=t.themen)||void 0===i?void 0:i.includes(e.thema.id);if("kategorien"===n){var r,a=Object(k.a)(e.kategorien);try{for(a.s();!(r=a.n()).done;){var o,s=r.value;if(null===t||void 0===t||null===(o=t.kategorien)||void 0===o?void 0:o.includes(s))return!0}}catch(d){a.e(d)}finally{a.f()}return!1}return!0}},P="https://wupp-topicmaps-data.cismet.de",E=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,i,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="GazDataForStories",i={},e.next=4,Object(u.c)(n,P+"/data/adressen.json");case 4:return i.adressen=e.sent,e.next=7,Object(u.c)(n,P+"/data/bezirke.json");case 7:return i.bezirke=e.sent,e.next=10,Object(u.c)(n,P+"/data/quartiere.json");case 10:return i.quartiere=e.sent,e.next=13,Object(u.c)(n,P+"/data/pois.json");case 13:return i.pois=e.sent,e.next=16,Object(u.c)(n,P+"/data/kitas.json");case 16:return i.kitas=e.sent,e.next=19,Object(u.c)(n,P+"/data/bpklimastandorte.json");case 19:i.bpklimastandorte=e.sent,r=Object(b.b)(i,["bpklimastandorte","pois","kitas","bezirke","quartiere","adressen"]),t(r);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var R=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){E(r)}),[]),Object(O.jsx)(j.c,{featureItemsURL:P+"/data/bpklima.data.json",getFeatureStyler:f.a,convertItemToFeature:x,clusteringOptions:{iconCreateFunction:Object(v.c)(30,(function(e){return e.color}))},clusteringEnabled:!0,itemFilterFunction:N,children:Object(O.jsx)(h.a,{modalMenu:Object(O.jsx)(M,{}),gazData:n,gazetteerSearchPlaceholder:"Stadtteil | Adresse | POI | Standorte",infoBox:Object(O.jsx)(p.a,{pixelwidth:400,config:{displaySecondaryInfoAction:!0,city:"Wuppertal",navigator:{noun:{singular:"Standort",plural:"Standorte"}},noCurrentFeatureTitle:"Keine Standorte gefunden",noCurrentFeatureContent:""}}),secondaryInfo:Object(O.jsx)(C,{}),children:Object(O.jsx)(m.a,{})})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,696)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),a(e),o(e)}))};o.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(R,{})}),document.getElementById("root")),D()}},[[690,1,2]]]);
//# sourceMappingURL=main.0d76a6a8.chunk.js.map