(this["webpackJsonpbestpractices-klimaschutz"]=this["webpackJsonpbestpractices-klimaschutz"]||[]).push([[0],{389:function(e,t,n){},391:function(e,t,n){},704:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(20),l=n.n(a),o=(n(389),n(14)),s=n(21),d=n.n(s),c=n(42),u=(n(391),n(392),n(393),n(394),n(395),n(66)),j=n(200),h=n(26),v=n(45),b=n(381),m=n(171),f=n(383),p=n(379),g=n(128),O=n(4),x=function(){var e=Object(c.a)(d.a.mark((function e(t){var n,i,r,a,l,o,s,c,u,j,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.b)(t,(function(e){return e.thema.icon}));case 2:return c=e.sent,u=(null===c||void 0===c||null===(n=c.standort)||void 0===n?void 0:n.name)||"Kein Standort","Feature",!1,j=null===c||void 0===c||null===(i=c.standort)||void 0===i?void 0:i.geojson,null===c||void 0===c||null===(r=c.thema)||void 0===r?void 0:r.farbe,c.color=null===c||void 0===c?void 0:c.thema.farbe,h={header:c.thema.name,title:u,additionalInfo:null===c||void 0===c?void 0:c.beschreibung,subtitle:Object(O.jsxs)("span",{children:[null===c||void 0===c||null===(a=c.standort)||void 0===a?void 0:a.strasse," ",null===c||void 0===c||null===(l=c.standort)||void 0===l?void 0:l.hausnummer,Object(O.jsx)("br",{}),null===c||void 0===c||null===(o=c.standort)||void 0===o?void 0:o.plz," ",null===c||void 0===c||null===(s=c.standort)||void 0===s?void 0:s.stadt]})},c.info=h,c.url=null===c||void 0===c?void 0:c.website,c.bild&&(c.foto="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+c.bild),e.abrupt("return",{text:u,type:"Feature",selected:false,geometry:j,crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::25832"}},properties:c});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=n(10),y=n(22),w=n(285),S=n(384),C="0.9.7",K=function(){return C},F=n(145),z=function(){var e=Object(i.useContext)(y.a),t=e.selectedFeature,n=e.items,r=null===t||void 0===t?void 0:t.properties,a=Object(O.jsx)("div",{style:{fontSize:"11px"},children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("b",{children:[document.title," v",K()]}),":"," ",Object(O.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(O.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(O.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",F.a]})," ","|"," ",Object(O.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})});if(void 0!==r){var l,o,s,d,c,u,j,h,v,b,m,f;void 0!==r.bild&&(f="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+r.bild);var p,g=n.filter((function(e){return(null===e||void 0===e?void 0:e.standort.id)===r.standort.id&&e.id!==r.id})),x={},C=Object(k.a)(g);try{for(C.s();!(p=C.n()).done;){var z=p.value;void 0===x[z.thema.name]&&(x[z.thema.name]=[]),x[z.thema.name].push(z.kategorien)}}catch(M){C.e(M)}finally{C.f()}var A=[Object(O.jsx)(w.a,{bsStyle:"info",header:"Standort: "+(null===r||void 0===r||null===(l=r.standort)||void 0===l?void 0:l.name),children:Object(O.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[(null===r||void 0===r?void 0:r.standort)&&Object(O.jsxs)("b",{children:[null===r||void 0===r||null===(o=r.standort)||void 0===o?void 0:o.strasse," ",null===r||void 0===r||null===(s=r.standort)||void 0===s?void 0:s.hausnummer,Object(O.jsx)("br",{}),null===r||void 0===r||null===(d=r.standort)||void 0===d?void 0:d.plz," ",null===r||void 0===r||null===(c=r.standort)||void 0===c?void 0:c.stadt,Object(O.jsx)("br",{})]}),(null===r||void 0===r||null===(u=r.standort)||void 0===u?void 0:u.beschreibung)&&Object(O.jsxs)("div",{children:[null===r||void 0===r||null===(j=r.standort)||void 0===j?void 0:j.beschreibung,Object(O.jsx)("br",{})]}),(null===r||void 0===r||null===(h=r.standort)||void 0===h?void 0:h.bemerkung)&&Object(O.jsxs)("div",{children:[null===r||void 0===r||null===(v=r.standort)||void 0===v?void 0:v.bemerkung," ",Object(O.jsx)("br",{})]}),(null===r||void 0===r||null===(b=r.standort)||void 0===b?void 0:b.kommentar)&&Object(O.jsxs)("div",{children:[null===r||void 0===r||null===(m=r.standort)||void 0===m?void 0:m.kommentar," ",Object(O.jsx)("br",{})]})]})},"standort")];g.length>0&&A.push(Object(O.jsx)(w.a,{header:"Weitere Angebote an diesem Standort:",bsStyle:"success",children:Object(O.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(O.jsx)("table",{border:0,style:{xwidth:"100%"},children:Object(O.jsx)("tbody",{children:Object.keys(x).map((function(e,t){return Object(O.jsxs)("tr",{style:{paddingBottom:10},children:[Object(O.jsxs)("td",{style:{verticalAlign:"top",padding:5},children:[e,":"]},"addAng.L."+t),Object(O.jsx)("td",{style:{verticalAlign:"top",padding:5},children:x[e].map((function(e,t){return Object(O.jsx)("div",{children:e.join(", ")},"kategorien."+t)}))},"addAng.R."+t)]},"addAng"+t)}))})})})},"weitereAngebote"));var T=void 0;return void 0!==f&&(T=250),Object(O.jsx)(S.a,{titleIconName:"info-circle",title:"Datenblatt: "+r.kategorien.join(", "),mainSection:Object(O.jsxs)("div",{style:{width:"100%",minHeight:T},children:[void 0!==f&&Object(O.jsx)("img",{alt:"Bild",style:{paddingLeft:10,paddingRight:10,float:"right",paddingBottom:"5px"},src:f,width:"250"}),Object(O.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[r.beschreibung&&Object(O.jsxs)("b",{children:[r.beschreibung,Object(O.jsx)("br",{})]}),r.bemerkung&&Object(O.jsxs)("div",{children:[r.bemerkung," ",Object(O.jsx)("br",{})]}),r.kommentar&&Object(O.jsxs)("div",{children:[r.kommentar," ",Object(O.jsx)("br",{})]})]})]}),subSections:A,footer:a})}return null},A=n(7),T=n(19),M=n(87),I=n(223),B=n(117),L=n(382),P=n(232),W=n(230),D=function(){var e=Object(i.useContext)(T.b).setAppMenuActiveMenuSection;return Object(O.jsxs)("div",{style:{fontSize:"11px"},children:[Object(O.jsx)("b",{children:"Hintergrundkarten"}),": Stadtkarte 2.0 \xa9 RVR | True Orthophoto 2020 \xa9 Stadt Wuppertal"," ",Object(O.jsx)("a",{className:"pleaseRenderAsLink",onClick:function(){e("help"),M.scroller.scrollTo("Datengrundlage",{containerId:"myMenu"})},children:"(Details und Nutzungsbedingungen)"}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("b",{children:[document.title," v",K()]}),":"," ",Object(O.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(O.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(O.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",F.a]})," ","|"," ",Object(O.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})]})},_=n(84),N=n(9),E=function(){var e,t=Object(i.useContext)(T.b).setAppMenuActiveMenuSection,n=Object(i.useContext)(y.a),r=n.filterState,a=n.filterMode,l=n.filteredItems,o=n.shownFeatures,s=Object(i.useContext)(y.b),d=s.setFilterState,c=s.setFilterMode,u=Object(i.useContext)(y.a).items,j=[],h=[],b=[],m=[],f=Object(k.a)(u||[]);try{for(f.s();!(e=f.n()).done;){var p,g=e.value,x=Object(k.a)(g.kategorien);try{for(x.s();!(p=x.n()).done;){var w=p.value;j.includes(w)||(h.push({key:w}),j.push(w))}}catch(G){x.e(G)}finally{x.f()}b.includes(g.thema.id)||(b.push(g.thema.id),m.push({key:g.thema.id,title:g.thema.name,color:g.thema.farbe}))}}catch(G){f.e(G)}finally{f.f()}m.sort((function(e,t){return e.title.localeCompare(t.title)})),h.sort((function(e,t){return e.key.localeCompare(t.key)})),b=[];for(var S=0,C=m;S<C.length;S++){var K=C[S];b.push(K.key)}j=[];for(var F=0,z=h;F<z.length;F++){var E=z[F];j.push(E.key)}var R={mode:"tabs",filters:[{title:"Themen",key:"themen",icon:"folder",type:"tags",values:m,setAll:function(){d(Object(A.a)(Object(A.a)({},r),{},{themen:b}))},setNone:function(){d(Object(A.a)(Object(A.a)({},r),{},{themen:[]}))},colorizer:function(e,t){return t?e.color:"#eeeeee"}},{title:"Kategorien",key:"kategorien",icon:"tags",type:"tags",values:h,setAll:function(){d(Object(A.a)(Object(A.a)({},r),{},{kategorien:j}))},setNone:function(){d(Object(A.a)(Object(A.a)({},r),{},{kategorien:[]}))}}]};void 0===r&void 0!==u&&d({kategorien:j,themen:b}),void 0===a&void 0!==u&&c("themen");return Object(O.jsx)(_.b,{customizations:{inKartePositionieren:{listWithSymbols:Object(O.jsxs)("p",{children:["Durch das in der Auswahlliste vorangestellte Symbol erkennen Sie, ob es sich bei einem Treffer um einen"," ",Object(O.jsxs)(H,{children:[Object(O.jsx)(N.a,{name:"circle"})," Stadtbezirk"]}),", ein"," ",Object(O.jsxs)(H,{children:[Object(O.jsx)(N.a,{name:"pie-chart"})," Quartier"]}),", eine"," ",Object(O.jsxs)(H,{children:[Object(O.jsx)(N.a,{name:"home"})," Adresse"]}),", eine"," ",Object(O.jsxs)(H,{children:[Object(O.jsx)(N.a,{name:"road"})," Stra\xdfe ohne Hausnummern"]}),", eine"," ",Object(O.jsxs)(H,{children:[Object(O.jsx)(N.a,{name:"child"})," Kindertageseinrichtung"]}),", eine"," ",Object(O.jsxs)(H,{children:[Object(O.jsx)(N.a,{name:"graduation-cap"})," Schule"]})," ","oder einen"," ",Object(O.jsxs)(H,{children:[Object(O.jsx)(N.a,{name:"sun"})," Klimaort"]})," ","handelt."]})},fachobjekteAuswaehlen:{furtherExplanationOfClickableContent:" (Signaturen oder dunkelblaue Fahrradtrassen)"},hintergrund:{additionalDatasources:Object(O.jsx)("p",{children:Object(O.jsx)("ul",{children:Object(O.jsxs)("li",{children:[Object(O.jsx)("strong",{children:"Fernw\xe4rme"}),": Kartendienst (WMS) der Stadt Wuppertal in Zusammenarbeit mit der"," ",Object(O.jsx)("a",{target:"_wsw",href:"https://www.wsw-online.de/wsw-energie-wasser/privatkunden/produkte/fernwaerme/talwaerme-wuppertal/",children:"WSW GmbH"}),". Datengrundlage: Fernw\xe4rmeleitungen der Wuppertaler Stadtwerke GmbH (Stand 02.2021) mit einer Puffergr\xf6\xdfe von 10 m. \xa9"," ",Object(O.jsx)("a",{target:"_wsw",href:"https://www.wsw-online.de/impressum/",children:"Wuppertaler Stadtwerke GmbH"}),"."]})})})}},children:Object(O.jsx)(I.a,{menuIcon:"bars",menuTitle:"Meine Klimaorte, Einstellungen und Kompaktanleitung",menuFooter:Object(O.jsx)(D,{}),menuIntroduction:Object(O.jsxs)("span",{children:["Benutzen Sie die Auswahlm\xf6glichkeiten unter"," ",Object(O.jsx)(M.Link,{className:"useAClassNameToRenderProperLink",to:"filter",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("filter")},children:"Meine Klimaorte"}),", um die in der Karte angezeigten vorbildlichen Klimaorte auf die f\xfcr Sie relevanten Themen zu beschr\xe4nken. \xdcber"," ",Object(O.jsx)(M.Link,{className:"useAClassNameToRenderProperLink",to:"settings",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("settings")},children:"Einstellungen"})," ","k\xf6nnen Sie die Darstellung der Hintergrundkarte und der klimarelevanten Themen an Ihre Interesse anpassen. W\xe4hlen Sie die"," ",Object(O.jsx)(M.Link,{className:"useAClassNameToRenderProperLink",to:"help",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("help")},children:"Kompaktanleitung"})," ","f\xfcr detailliertere Bedienungsinformationen."]}),menuSections:[Object(O.jsx)(B.a,{sectionKey:"filter",sectionTitle:function(){var e,t=(null===l||void 0===l?void 0:l.length)||0;return e=1===t?"Standort":"Standorte","Meine Klimaorte (".concat(t," ").concat(e," gefunden, davon ").concat((null===o||void 0===o?void 0:o.length)||"0"," in der Karte)")}(),sectionBsStyle:"primary",sectionContent:Object(O.jsx)(L.a,{filterConfiguration:R})},"filter"),Object(O.jsx)(P.a,{},"settings"),Object(O.jsx)(B.a,{sectionKey:"help",sectionTitle:"Kompaktanleitung",sectionBsStyle:"default",sectionContent:Object(O.jsx)(W.a,{configs:Object(v.d)("Klimaortkarte Wuppertal",undefined)})},"help")]})})},H=function(e){return Object(O.jsx)("span",{style:{whiteSpace:"nowrap"},children:e.children})},R=function(e){var t=e.filterState,n=e.filterMode;return function(e){var i;if("themen"===n)return null===t||void 0===t||null===(i=t.themen)||void 0===i?void 0:i.includes(e.thema.id);if("kategorien"===n){var r,a=Object(k.a)(e.kategorien);try{for(a.s();!(r=a.n()).done;){var l,o=r.value;if(null===t||void 0===t||null===(l=t.kategorien)||void 0===l?void 0:l.includes(o))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}return!0}},G=n(162),q=function(e){var t,n,i,r=e.featureCollectionContext,a=function(e){var t,n,i=null===r||void 0===r||null===(t=r.items)||void 0===t?void 0:t.find((function(t){var n;return(null===t||void 0===t||null===(n=t.thema)||void 0===n?void 0:n.id)===e}));return null===i||void 0===i||null===(n=i.thema)||void 0===n?void 0:n.name},l="?";if((null===r||void 0===r||null===(t=r.filteredItems)||void 0===t?void 0:t.length)===(null===r||void 0===r||null===(n=r.items)||void 0===n?void 0:n.length))l=void 0;else if("themen"===(null===r||void 0===r?void 0:r.filterMode)){var o,s;if((null===r||void 0===r||null===(o=r.filterState)||void 0===o||null===(s=o.themen)||void 0===s?void 0:s.length)<=2){var d,c,u=null===r||void 0===r||null===(d=r.filterState)||void 0===d?void 0:d.themen,j=[],h=Object(k.a)(u);try{for(h.s();!(c=h.n()).done;){var v=c.value;j.push(a(v))}}catch(S){h.e(S)}finally{h.f()}l="nach Themen gefiltert (nur "+j.join(", ")+")"}else{var b,m;l="nach Themen gefiltert ("+(null===r||void 0===r||null===(b=r.filterState)||void 0===b||null===(m=b.themen)||void 0===m?void 0:m.length)+" Themen)"}}else if("kategorien"===(null===r||void 0===r?void 0:r.filterMode)){var f,p,g,x,y,w;if((null===r||void 0===r||null===(f=r.filterState)||void 0===f||null===(p=f.kategorien)||void 0===p?void 0:p.length)<=3)l="nach Kategorien gefiltert (nur "+(null===r||void 0===r||null===(g=r.filterState)||void 0===g||null===(x=g.kategorien)||void 0===x?void 0:x.join(", "))+")";else l="nach Kategorien gefiltert ("+(null===r||void 0===r||null===(y=r.filterState)||void 0===y||null===(w=y.kategorien)||void 0===w?void 0:w.length)+" Kategorien)"}return 0===(null===r||void 0===r||null===(i=r.filteredItems)||void 0===i?void 0:i.length)?Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"Keine Klimaorte gefunden!"})," Bitte \xfcberpr\xfcfen Sie Ihre Filtereinstellungen."]}):l?Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"Meine Klimaorte:"})," ",l]}):void 0},J="https://wupp-topicmaps-data.cismet.de",Z=function(){var e=Object(c.a)(d.a.mark((function e(t){var n,i,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="GazDataForStories",i={},e.next=4,Object(u.c)(n,J+"/data/adressen.json");case 4:return i.adressen=e.sent,e.next=7,Object(u.c)(n,J+"/data/bezirke.json");case 7:return i.bezirke=e.sent,e.next=10,Object(u.c)(n,J+"/data/quartiere.json");case 10:return i.quartiere=e.sent,e.next=13,Object(u.c)(n,J+"/data/bpklimastandorte.json");case 13:i.bpklimastandorte=e.sent,r=Object(j.b)(i,["bpklimastandorte","bezirke","quartiere","adressen"]),t(r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Q=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){Z(r)}),[]),Object(O.jsx)(h.c,{appKey:"BestPracticeKlimaschutzWuppertal.TopicMap",featureTooltipFunction:function(e){return null===e||void 0===e?void 0:e.text},featureItemsURL:J+"/data/bpklima.data.json",getFeatureStyler:p.a,convertItemToFeature:x,clusteringOptions:{iconCreateFunction:Object(v.c)(30,(function(e){return e.color}))},clusteringEnabled:!0,itemFilterFunction:R,titleFactory:q,classKeyFunction:function(e){var t;return null===(t=e.thema)||void 0===t?void 0:t.name},getColorFromProperties:function(e){var t;return null===e||void 0===e||null===(t=e.thema)||void 0===t?void 0:t.farbe},additionalLayerConfiguration:{fernwaerme:{title:Object(O.jsxs)("span",{children:["Fernw\xe4rme"," ",Object(O.jsx)(N.a,{style:{color:"#EEB48C",width:"30px",textAlign:"center"},name:"circle"})]}),initialActive:!0,layer:Object(O.jsx)(G.a,{url:"https://maps.wuppertal.de/deegree/wms",layers:"fernwaermewsw ",format:"image/png",tiled:"true",transparent:"true",maxZoom:19,opacity:.7},"fernwaermewsw")}},children:Object(O.jsx)(b.a,{applicationMenuTooltipString:"Filter | Einstellungen | Anleitung",locatorControl:!0,modalMenu:Object(O.jsx)(E,{}),gazData:n,gazetteerSearchPlaceholder:"Klimaort | Stadtteil | Adresse",infoBox:Object(O.jsx)(f.a,{pixelwidth:400,config:{displaySecondaryInfoAction:!0,city:"Wuppertal",navigator:{noun:{singular:"Klimaort",plural:"Klimaorte"}},noCurrentFeatureTitle:"Keine Klimaorte gefunden",noCurrentFeatureContent:""}}),secondaryInfo:Object(O.jsx)(z,{}),children:Object(O.jsx)(m.a,{})})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,710)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),i(e),r(e),a(e),l(e)}))};l.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Q,{})}),document.getElementById("root")),U()}},[[704,1,2]]]);
//# sourceMappingURL=main.5851a813.chunk.js.map