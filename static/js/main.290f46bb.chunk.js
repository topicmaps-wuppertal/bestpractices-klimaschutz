(this["webpackJsonpbestpractices-klimaschutz"]=this["webpackJsonpbestpractices-klimaschutz"]||[]).push([[0],{305:function(e,t,n){},393:function(e,t,n){},703:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(21),l=n.n(a),o=(n(393),n(286),n(287),n(288),n(9)),s=n(23),d=n(165),c=n(46),u=(n(304),n(377)),j=(n(305),n(10)),v=function(e){var t=e.filterState,n=e.filterMode;return function(e){var i;if("themen"===n)return null===t||void 0===t||null===(i=t.themen)||void 0===i?void 0:i.includes(e.thema.id);if("kategorien"===n){var r,a=Object(j.a)(e.kategorien);try{for(a.s();!(r=a.n()).done;){var l,o=r.value;if(null===t||void 0===t||null===(l=t.kategorien)||void 0===l?void 0:l.includes(o))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}return!0}},b=n(24),h=n.n(b),m=n(49),f=n(130),p=n(4),g=function(){var e=Object(m.a)(h.a.mark((function e(t){var n,i,r,a,l,o,s,d,c,u,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(t,(function(e){return e.thema.icon}));case 2:return d=e.sent,c=(null===d||void 0===d||null===(n=d.standort)||void 0===n?void 0:n.name)||"Kein Standort","Feature",!1,u=null===d||void 0===d||null===(i=d.standort)||void 0===i?void 0:i.geojson,null===d||void 0===d||null===(r=d.thema)||void 0===r?void 0:r.farbe,d.color=null===d||void 0===d?void 0:d.thema.farbe,j={header:d.thema.name,title:c,additionalInfo:null===d||void 0===d?void 0:d.beschreibung,subtitle:Object(p.jsxs)("span",{children:[null===d||void 0===d||null===(a=d.standort)||void 0===a?void 0:a.strasse," ",null===d||void 0===d||null===(l=d.standort)||void 0===l?void 0:l.hausnummer,Object(p.jsx)("br",{}),null===d||void 0===d||null===(o=d.standort)||void 0===o?void 0:o.plz," ",null===d||void 0===d||null===(s=d.standort)||void 0===s?void 0:s.stadt]})},d.info=j,d.url=null===d||void 0===d?void 0:d.website,d.bild&&(d.foto="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+d.bild),e.abrupt("return",{text:c,type:"Feature",selected:false,geometry:u,crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::25832"}},properties:d});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t,n,i,r=e.featureCollectionContext,a=function(e){var t,n,i=null===r||void 0===r||null===(t=r.items)||void 0===t?void 0:t.find((function(t){var n;return(null===t||void 0===t||null===(n=t.thema)||void 0===n?void 0:n.id)===e}));return null===i||void 0===i||null===(n=i.thema)||void 0===n?void 0:n.name},l="?";if((null===r||void 0===r||null===(t=r.filteredItems)||void 0===t?void 0:t.length)===(null===r||void 0===r||null===(n=r.items)||void 0===n?void 0:n.length))l=void 0;else if("themen"===(null===r||void 0===r?void 0:r.filterMode)){var o,s;if((null===r||void 0===r||null===(o=r.filterState)||void 0===o||null===(s=o.themen)||void 0===s?void 0:s.length)<=2){var d,c,u=null===r||void 0===r||null===(d=r.filterState)||void 0===d?void 0:d.themen,v=[],b=Object(j.a)(u);try{for(b.s();!(c=b.n()).done;){var h=c.value;v.push(a(h))}}catch(S){b.e(S)}finally{b.f()}l="nach Themen gefiltert (nur "+v.join(", ")+")"}else{var m,f;l="nach Themen gefiltert ("+(null===r||void 0===r||null===(m=r.filterState)||void 0===m||null===(f=m.themen)||void 0===f?void 0:f.length)+" Themen)"}}else if("kategorien"===(null===r||void 0===r?void 0:r.filterMode)){var g,O,x,k,y,w;if((null===r||void 0===r||null===(g=r.filterState)||void 0===g||null===(O=g.kategorien)||void 0===O?void 0:O.length)<=3)l="nach Kategorien gefiltert (nur "+(null===r||void 0===r||null===(x=r.filterState)||void 0===x||null===(k=x.kategorien)||void 0===k?void 0:k.join(", "))+")";else l="nach Kategorien gefiltert ("+(null===r||void 0===r||null===(y=r.filterState)||void 0===y||null===(w=y.kategorien)||void 0===w?void 0:w.length)+" Kategorien)"}return 0===(null===r||void 0===r||null===(i=r.filteredItems)||void 0===i?void 0:i.length)?Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Keine Klimaorte gefunden!"})," Bitte \xfcberpr\xfcfen Sie Ihre Filtereinstellungen."]}):l?Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Meine Klimaorte:"})," ",l]}):void 0},x=n(18),k=n(168),y=n(86),w=n(218),S=n(387),C=n(385),F=n(7),K=n(19),z=n(20),A=n(87),T=n(225),M=n(116),I=n(386),B=n(233),P=n(231),L="0.10.0",W=function(){return L},D=n(147),_=function(){var e=Object(i.useContext)(z.b).setAppMenuActiveMenuSection;return Object(p.jsxs)("div",{style:{fontSize:"11px"},children:[Object(p.jsx)("b",{children:"Hintergrundkarten"}),": Stadtkarte 2.0 \xa9 RVR | True Orthophoto 2020 \xa9 Stadt Wuppertal"," ",Object(p.jsx)("a",{className:"pleaseRenderAsLink",onClick:function(){e("help"),A.scroller.scrollTo("Datengrundlage",{containerId:"myMenu"})},children:"(Details und Nutzungsbedingungen)"}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("b",{children:[document.title," v",W()]}),":"," ",Object(p.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(p.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(p.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",D.a]})," ","|"," ",Object(p.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})]})},N=n(83),E=function(){var e,t=Object(i.useContext)(z.b).setAppMenuActiveMenuSection,n=Object(i.useContext)(K.a),r=n.filterState,a=n.filterMode,l=n.filteredItems,s=n.shownFeatures,d=Object(i.useContext)(K.b),u=d.setFilterState,v=d.setFilterMode,b=Object(i.useContext)(K.a).items,h=[],m=[],f=[],g=[],O=Object(j.a)(b||[]);try{for(O.s();!(e=O.n()).done;){var x,k=e.value,y=Object(j.a)(k.kategorien);try{for(y.s();!(x=y.n()).done;){var w=x.value;h.includes(w)||(m.push({key:w}),h.push(w))}}catch(G){y.e(G)}finally{y.f()}f.includes(k.thema.id)||(f.push(k.thema.id),g.push({key:k.thema.id,title:k.thema.name,color:k.thema.farbe}))}}catch(G){O.e(G)}finally{O.f()}g.sort((function(e,t){return e.title.localeCompare(t.title)})),m.sort((function(e,t){return e.key.localeCompare(t.key)})),f=[];for(var S=0,C=g;S<C.length;S++){var L=C[S];f.push(L.key)}h=[];for(var W=0,D=m;W<D.length;W++){var E=D[W];h.push(E.key)}var R={mode:"tabs",filters:[{title:"Themen",key:"themen",icon:"folder",type:"tags",values:g,setAll:function(){u(Object(F.a)(Object(F.a)({},r),{},{themen:f}))},setNone:function(){u(Object(F.a)(Object(F.a)({},r),{},{themen:[]}))},colorizer:function(e,t){return t?e.color:"#eeeeee"}},{title:"Kategorien",key:"kategorien",icon:"tags",type:"tags",values:m,setAll:function(){u(Object(F.a)(Object(F.a)({},r),{},{kategorien:h}))},setNone:function(){u(Object(F.a)(Object(F.a)({},r),{},{kategorien:[]}))}}]};void 0===r&void 0!==b&&u({kategorien:h,themen:f}),void 0===a&void 0!==b&&v("themen");return Object(p.jsx)(N.b,{customizations:{inKartePositionieren:{listWithSymbols:Object(p.jsxs)("p",{children:["Durch das in der Auswahlliste vorangestellte Symbol erkennen Sie, ob es sich bei einem Treffer um einen"," ",Object(p.jsxs)(H,{children:[Object(p.jsx)(o.a,{name:"circle"})," Stadtbezirk"]}),", ein"," ",Object(p.jsxs)(H,{children:[Object(p.jsx)(o.a,{name:"pie-chart"})," Quartier"]}),", eine"," ",Object(p.jsxs)(H,{children:[Object(p.jsx)(o.a,{name:"home"})," Adresse"]}),", eine"," ",Object(p.jsxs)(H,{children:[Object(p.jsx)(o.a,{name:"road"})," Stra\xdfe ohne Hausnummern"]}),", eine"," ",Object(p.jsxs)(H,{children:[Object(p.jsx)(o.a,{name:"child"})," Kindertageseinrichtung"]}),", eine"," ",Object(p.jsxs)(H,{children:[Object(p.jsx)(o.a,{name:"graduation-cap"})," Schule"]})," ","oder einen"," ",Object(p.jsxs)(H,{children:[Object(p.jsx)(o.a,{name:"sun"})," Klimaort"]})," ","handelt."]})},fachobjekteAuswaehlen:{furtherExplanationOfClickableContent:" (Signaturen oder dunkelblaue Fahrradtrassen)"},hintergrund:{additionalDatasources:Object(p.jsx)("p",{children:Object(p.jsx)("ul",{children:Object(p.jsxs)("li",{children:[Object(p.jsx)("strong",{children:"Fernw\xe4rme"}),": Kartendienst (WMS) der Stadt Wuppertal in Zusammenarbeit mit der"," ",Object(p.jsx)("a",{target:"_wsw",href:"https://www.wsw-online.de/wsw-energie-wasser/privatkunden/produkte/fernwaerme/talwaerme-wuppertal/",children:"WSW GmbH"}),". Datengrundlage: Fernw\xe4rmeleitungen der Wuppertaler Stadtwerke GmbH (Stand 02.2021) mit einer Puffergr\xf6\xdfe von 10 m. \xa9"," ",Object(p.jsx)("a",{target:"_wsw",href:"https://www.wsw-online.de/impressum/",children:"Wuppertaler Stadtwerke GmbH"}),"."]})})})}},children:Object(p.jsx)(T.a,{menuIcon:"bars",menuTitle:"Meine Klimaorte, Einstellungen und Kompaktanleitung",menuFooter:Object(p.jsx)(_,{}),menuIntroduction:Object(p.jsxs)("span",{children:["Benutzen Sie die Auswahlm\xf6glichkeiten unter"," ",Object(p.jsx)(A.Link,{className:"useAClassNameToRenderProperLink",to:"filter",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("filter")},children:"Meine Klimaorte"}),", um die in der Karte angezeigten vorbildlichen Klimaorte auf die f\xfcr Sie relevanten Themen zu beschr\xe4nken. \xdcber"," ",Object(p.jsx)(A.Link,{className:"useAClassNameToRenderProperLink",to:"settings",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("settings")},children:"Einstellungen"})," ","k\xf6nnen Sie die Darstellung der Hintergrundkarte und der klimarelevanten Themen an Ihre Interesse anpassen. W\xe4hlen Sie die"," ",Object(p.jsx)(A.Link,{className:"useAClassNameToRenderProperLink",to:"help",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("help")},children:"Kompaktanleitung"})," ","f\xfcr detailliertere Bedienungsinformationen."]}),menuSections:[Object(p.jsx)(M.a,{sectionKey:"filter",sectionTitle:function(){var e,t=(null===l||void 0===l?void 0:l.length)||0;return e=1===t?"Standort":"Standorte","Meine Klimaorte (".concat(t," ").concat(e," gefunden, davon ").concat((null===s||void 0===s?void 0:s.length)||"0"," in der Karte)")}(),sectionBsStyle:"primary",sectionContent:Object(p.jsx)(I.a,{filterConfiguration:R})},"filter"),Object(p.jsx)(B.a,{},"settings"),Object(p.jsx)(M.a,{sectionKey:"help",sectionTitle:"Kompaktanleitung",sectionBsStyle:"default",sectionContent:Object(p.jsx)(P.a,{configs:Object(c.d)("Klimaortkarte Wuppertal",undefined)})},"help")]})})},H=function(e){return Object(p.jsx)("span",{style:{whiteSpace:"nowrap"},children:e.children})},R=n(285),G=n(388),q=function(){var e=Object(i.useContext)(K.a),t=e.selectedFeature,n=e.items,r=null===t||void 0===t?void 0:t.properties,a=Object(p.jsx)("div",{style:{fontSize:"11px"},children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("b",{children:[document.title," v",W()]}),":"," ",Object(p.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(p.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(p.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",D.a]})," ","|"," ",Object(p.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})});if(void 0!==r){var l,o,s,d,c,u,v,b,h,m,f,g;void 0!==r.bild&&(g="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+r.bild);var O,x=n.filter((function(e){return(null===e||void 0===e?void 0:e.standort.id)===r.standort.id&&e.id!==r.id})),k={},y=Object(j.a)(x);try{for(y.s();!(O=y.n()).done;){var w=O.value;void 0===k[w.thema.name]&&(k[w.thema.name]=[]),k[w.thema.name].push(w.kategorien)}}catch(F){y.e(F)}finally{y.f()}var S=[Object(p.jsx)(R.a,{bsStyle:"info",header:"Standort: "+(null===r||void 0===r||null===(l=r.standort)||void 0===l?void 0:l.name),children:Object(p.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[(null===r||void 0===r?void 0:r.standort)&&Object(p.jsxs)("b",{children:[null===r||void 0===r||null===(o=r.standort)||void 0===o?void 0:o.strasse," ",null===r||void 0===r||null===(s=r.standort)||void 0===s?void 0:s.hausnummer,Object(p.jsx)("br",{}),null===r||void 0===r||null===(d=r.standort)||void 0===d?void 0:d.plz," ",null===r||void 0===r||null===(c=r.standort)||void 0===c?void 0:c.stadt,Object(p.jsx)("br",{})]}),(null===r||void 0===r||null===(u=r.standort)||void 0===u?void 0:u.beschreibung)&&Object(p.jsxs)("div",{children:[null===r||void 0===r||null===(v=r.standort)||void 0===v?void 0:v.beschreibung,Object(p.jsx)("br",{})]}),(null===r||void 0===r||null===(b=r.standort)||void 0===b?void 0:b.bemerkung)&&Object(p.jsxs)("div",{children:[null===r||void 0===r||null===(h=r.standort)||void 0===h?void 0:h.bemerkung," ",Object(p.jsx)("br",{})]}),(null===r||void 0===r||null===(m=r.standort)||void 0===m?void 0:m.kommentar)&&Object(p.jsxs)("div",{children:[null===r||void 0===r||null===(f=r.standort)||void 0===f?void 0:f.kommentar," ",Object(p.jsx)("br",{})]})]})},"standort")];x.length>0&&S.push(Object(p.jsx)(R.a,{header:"Weitere Angebote an diesem Standort:",bsStyle:"success",children:Object(p.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(p.jsx)("table",{border:0,style:{xwidth:"100%"},children:Object(p.jsx)("tbody",{children:Object.keys(k).map((function(e,t){return Object(p.jsxs)("tr",{style:{paddingBottom:10},children:[Object(p.jsxs)("td",{style:{verticalAlign:"top",padding:5},children:[e,":"]},"addAng.L."+t),Object(p.jsx)("td",{style:{verticalAlign:"top",padding:5},children:k[e].map((function(e,t){return Object(p.jsx)("div",{children:e.join(", ")},"kategorien."+t)}))},"addAng.R."+t)]},"addAng"+t)}))})})})},"weitereAngebote"));var C=void 0;return void 0!==g&&(C=250),Object(p.jsx)(G.a,{titleIconName:"info-circle",title:"Datenblatt: "+r.kategorien.join(", "),mainSection:Object(p.jsxs)("div",{style:{width:"100%",minHeight:C},children:[void 0!==g&&Object(p.jsx)("img",{alt:"Bild",style:{paddingLeft:10,paddingRight:10,float:"right",paddingBottom:"5px"},src:g,width:"250"}),Object(p.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[r.beschreibung&&Object(p.jsxs)("b",{children:[r.beschreibung,Object(p.jsx)("br",{})]}),r.bemerkung&&Object(p.jsxs)("div",{children:[r.bemerkung," ",Object(p.jsx)("br",{})]}),r.kommentar&&Object(p.jsxs)("div",{children:[r.kommentar," ",Object(p.jsx)("br",{})]})]})]}),subSections:S,footer:a})}return null},J=function(){var e=Object(m.a)(h.a.mark((function e(t){var n,i,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="GazDataForStories",i={},e.next=4,Object(y.c)(n,Q+"/data/3857/adressen.json");case 4:return i.adressen=e.sent,e.next=7,Object(y.c)(n,Q+"/data/3857/bezirke.json");case 7:return i.bezirke=e.sent,e.next=10,Object(y.c)(n,Q+"/data/3857/quartiere.json");case 10:return i.quartiere=e.sent,e.next=13,Object(y.c)(n,Q+"/data/3857/bpklimastandorte.json");case 13:i.bpklimastandorte=e.sent,r=Object(w.b)(i,["bpklimastandorte","bezirke","quartiere","adressen"]),t(r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Z=function(){var e=Object(i.useContext)(K.b),t=e.setSelectedFeatureByPredicate,n=(e.setFilterState,Object(i.useContext)(K.a).selectedFeature),r=Object(i.useContext)(s.b).zoomToFeature,a=Object(i.useState)([]),l=Object(x.a)(a,2),o=l[0],d=l[1];return Object(i.useEffect)((function(){J(d)}),[]),console.log("selectedFeature",n),Object(p.jsx)(C.a,{applicationMenuTooltipString:"Filter | Einstellungen | Anleitung",locatorControl:!0,modalMenu:Object(p.jsx)(E,{}),gazData:o,gazetteerSearchPlaceholder:"Klimaort | Stadtteil | Adresse",infoBox:Object(p.jsx)(S.a,{pixelwidth:400,config:{displaySecondaryInfoAction:!0,city:"Wuppertal",navigator:{noun:{singular:"Klimaort",plural:"Klimaorte"}},noCurrentFeatureTitle:"Keine Klimaorte gefunden",noCurrentFeatureContent:""}}),secondaryInfo:Object(p.jsx)(q,{}),gazetteerHitTrigger:function(e){var n,i;Array.isArray(e)&&(null===(n=e[0])||void 0===n||null===(i=n.more)||void 0===i?void 0:i.id)&&t((function(t){try{var n=parseInt(t.properties.standort.id)===e[0].more.id;return!0===n&&r(t),n}catch(i){return!1}}))},children:Object(p.jsx)(k.a,{})})},Q="https://wupp-topicmaps-data.cismet.de";var U=function(){return Object(p.jsx)(s.c,{appKey:"BestPracticeKlimaschutzWuppertal.TopicMap",featureTooltipFunction:function(e){return null===e||void 0===e?void 0:e.text},featureItemsURL:Q+"/data/bpklima.data.json",getFeatureStyler:u.a,convertItemToFeature:g,clusteringOptions:{iconCreateFunction:Object(c.c)(30,(function(e){return e.color}))},clusteringEnabled:!0,itemFilterFunction:v,titleFactory:O,classKeyFunction:function(e){var t;return null===(t=e.thema)||void 0===t?void 0:t.name},getColorFromProperties:function(e){var t;return null===e||void 0===e||null===(t=e.thema)||void 0===t?void 0:t.farbe},additionalLayerConfiguration:{fernwaerme:{title:Object(p.jsxs)("span",{children:["Fernw\xe4rme"," ",Object(p.jsx)(o.a,{style:{color:"#EEB48C",width:"30px",textAlign:"center"},name:"circle"})]}),initialActive:!0,layer:Object(p.jsx)(d.a,{url:"https://maps.wuppertal.de/deegree/wms",layers:"fernwaermewsw ",format:"image/png",tiled:"true",transparent:"true",maxZoom:19,opacity:.7},"fernwaermewsw")}},children:Object(p.jsx)(Z,{})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,709)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),i(e),r(e),a(e),l(e)}))};l.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(U,{})}),document.getElementById("root")),V()}},[[703,1,2]]]);
//# sourceMappingURL=main.290f46bb.chunk.js.map