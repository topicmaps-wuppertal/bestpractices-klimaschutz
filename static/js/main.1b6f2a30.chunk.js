(this["webpackJsonpbestpractices-klimaschutz"]=this["webpackJsonpbestpractices-klimaschutz"]||[]).push([[0],{305:function(e,t,n){},393:function(e,t,n){},703:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(21),o=n.n(a),l=(n(393),n(286),n(287),n(288),n(80)),s=n(9),d=n(23),c=n(165),u=n(46),j=(n(304),n(377)),v=(n(305),n(10)),b=function(e){var t=e.filterState,n=e.filterMode;return function(e){var i;if("themen"===n)return null===t||void 0===t||null===(i=t.themen)||void 0===i?void 0:i.includes(e.thema.id);if("kategorien"===n){var r,a=Object(v.a)(e.kategorien);try{for(a.s();!(r=a.n()).done;){var o,l=r.value;if(null===t||void 0===t||null===(o=t.kategorien)||void 0===o?void 0:o.includes(l))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}return!0}},h=n(24),m=n.n(h),f=n(49),p=n(144),g=n(4),O=function(){var e=Object(f.a)(m.a.mark((function e(t){var n,i,r,a,o,l,s,d,c,u,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(t,(function(e){return e.thema.icon}));case 2:return d=e.sent,c=(null===d||void 0===d||null===(n=d.standort)||void 0===n?void 0:n.name)||"Kein Standort","Feature",!1,u=null===d||void 0===d||null===(i=d.standort)||void 0===i?void 0:i.geojson,null===d||void 0===d||null===(r=d.thema)||void 0===r?void 0:r.farbe,d.color=null===d||void 0===d?void 0:d.thema.farbe,j={header:d.thema.name,title:c,additionalInfo:null===d||void 0===d?void 0:d.beschreibung,subtitle:Object(g.jsxs)("span",{children:[null===d||void 0===d||null===(a=d.standort)||void 0===a?void 0:a.strasse," ",null===d||void 0===d||null===(o=d.standort)||void 0===o?void 0:o.hausnummer,Object(g.jsx)("br",{}),null===d||void 0===d||null===(l=d.standort)||void 0===l?void 0:l.plz," ",null===d||void 0===d||null===(s=d.standort)||void 0===s?void 0:s.stadt]})},d.info=j,d.url=null===d||void 0===d?void 0:d.website,d.bild&&(d.foto="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+d.bild),e.abrupt("return",{text:c,type:"Feature",selected:false,geometry:u,crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::25832"}},properties:d});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t,n,i,r=e.featureCollectionContext,a=function(e){var t,n,i=null===r||void 0===r||null===(t=r.items)||void 0===t?void 0:t.find((function(t){var n;return(null===t||void 0===t||null===(n=t.thema)||void 0===n?void 0:n.id)===e}));return null===i||void 0===i||null===(n=i.thema)||void 0===n?void 0:n.name},o="?";if((null===r||void 0===r||null===(t=r.filteredItems)||void 0===t?void 0:t.length)===(null===r||void 0===r||null===(n=r.items)||void 0===n?void 0:n.length))o=void 0;else if("themen"===(null===r||void 0===r?void 0:r.filterMode)){var l,s;if((null===r||void 0===r||null===(l=r.filterState)||void 0===l||null===(s=l.themen)||void 0===s?void 0:s.length)<=2){var d,c,u=null===r||void 0===r||null===(d=r.filterState)||void 0===d?void 0:d.themen,j=[],b=Object(v.a)(u);try{for(b.s();!(c=b.n()).done;){var h=c.value;j.push(a(h))}}catch(w){b.e(w)}finally{b.f()}o="nach Themen gefiltert (nur "+j.join(", ")+")"}else{var m,f;o="nach Themen gefiltert ("+(null===r||void 0===r||null===(m=r.filterState)||void 0===m||null===(f=m.themen)||void 0===f?void 0:f.length)+" Themen)"}}else if("kategorien"===(null===r||void 0===r?void 0:r.filterMode)){var p,O,x,k,y,S;if((null===r||void 0===r||null===(p=r.filterState)||void 0===p||null===(O=p.kategorien)||void 0===O?void 0:O.length)<=3)o="nach Kategorien gefiltert (nur "+(null===r||void 0===r||null===(x=r.filterState)||void 0===x||null===(k=x.kategorien)||void 0===k?void 0:k.join(", "))+")";else o="nach Kategorien gefiltert ("+(null===r||void 0===r||null===(y=r.filterState)||void 0===y||null===(S=y.kategorien)||void 0===S?void 0:S.length)+" Kategorien)"}return 0===(null===r||void 0===r||null===(i=r.filteredItems)||void 0===i?void 0:i.length)?Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"Keine Klimaorte gefunden!"})," Bitte \xfcberpr\xfcfen Sie Ihre Filtereinstellungen."]}):o?Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"Meine Klimaorte:"})," ",o]}):void 0},k=n(18),y=n(168),S=n(88),w=n(218),C=n(387),F=n(385),K=n(7),z=n(19),A=n(20),T=n(89),M=n(225),I=n(117),P=n(386),B=n(233),L=n(231),D="0.12.0",W=function(){return D},_=n(147),E=function(){var e=Object(i.useContext)(A.b).setAppMenuActiveMenuSection;return Object(g.jsxs)("div",{style:{fontSize:"11px"},children:[Object(g.jsx)("b",{children:"Hintergrundkarten"}),": Stadtkarte 2.0 \xa9 RVR | True Orthophoto 2020 \xa9 Stadt Wuppertal"," ",Object(g.jsx)("a",{className:"pleaseRenderAsLink",onClick:function(){e("help"),T.scroller.scrollTo("Datengrundlage",{containerId:"myMenu"})},children:"(Details und Nutzungsbedingungen)"}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("b",{children:[document.title," v",W()]}),":"," ",Object(g.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(g.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(g.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",_.a]})," ","|"," ",Object(g.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})]})},N=n(84),H=function(){var e,t=Object(i.useContext)(A.b).setAppMenuActiveMenuSection,n=Object(i.useContext)(z.a),r=n.filterState,a=n.filterMode,o=n.filteredItems,l=n.shownFeatures,d=Object(i.useContext)(z.b),c=d.setFilterState,j=d.setFilterMode,b=Object(i.useContext)(z.a).items,h=[],m=[],f=[],p=[],O=Object(v.a)(b||[]);try{for(O.s();!(e=O.n()).done;){var x,k=e.value,y=Object(v.a)(k.kategorien);try{for(y.s();!(x=y.n()).done;){var S=x.value;h.includes(S)||(m.push({key:S}),h.push(S))}}catch(G){y.e(G)}finally{y.f()}f.includes(k.thema.id)||(f.push(k.thema.id),p.push({key:k.thema.id,title:k.thema.name,color:k.thema.farbe}))}}catch(G){O.e(G)}finally{O.f()}p.sort((function(e,t){return e.title.localeCompare(t.title)})),m.sort((function(e,t){return e.key.localeCompare(t.key)})),f=[];for(var w=0,C=p;w<C.length;w++){var F=C[w];f.push(F.key)}h=[];for(var D=0,W=m;D<W.length;D++){var _=W[D];h.push(_.key)}var H={mode:"tabs",filters:[{title:"Themen",key:"themen",icon:"folder",type:"tags",values:p,setAll:function(){c(Object(K.a)(Object(K.a)({},r),{},{themen:f}))},setNone:function(){c(Object(K.a)(Object(K.a)({},r),{},{themen:[]}))},colorizer:function(e,t){return t?e.color:"#eeeeee"}},{title:"Kategorien",key:"kategorien",icon:"tags",type:"tags",values:m,setAll:function(){c(Object(K.a)(Object(K.a)({},r),{},{kategorien:h}))},setNone:function(){c(Object(K.a)(Object(K.a)({},r),{},{kategorien:[]}))}}]};void 0===r&void 0!==b&&c({kategorien:h,themen:f}),void 0===a&void 0!==b&&j("themen");return Object(g.jsx)(N.b,{customizations:{inKartePositionieren:{listWithSymbols:Object(g.jsxs)("p",{children:["Durch das in der Auswahlliste vorangestellte Symbol erkennen Sie, ob es sich bei einem Treffer um einen"," ",Object(g.jsxs)(R,{children:[Object(g.jsx)(s.a,{name:"circle"})," Stadtbezirk"]}),", ein"," ",Object(g.jsxs)(R,{children:[Object(g.jsx)(s.a,{name:"pie-chart"})," Quartier"]}),", eine"," ",Object(g.jsxs)(R,{children:[Object(g.jsx)(s.a,{name:"home"})," Adresse"]}),", eine"," ",Object(g.jsxs)(R,{children:[Object(g.jsx)(s.a,{name:"road"})," Stra\xdfe ohne Hausnummern"]}),", eine"," ",Object(g.jsxs)(R,{children:[Object(g.jsx)(s.a,{name:"child"})," Kindertageseinrichtung"]}),", eine"," ",Object(g.jsxs)(R,{children:[Object(g.jsx)(s.a,{name:"graduation-cap"})," Schule"]})," ","oder einen"," ",Object(g.jsxs)(R,{children:[Object(g.jsx)(s.a,{name:"sun"})," Klimaort"]})," ","handelt."]})},fachobjekteAuswaehlen:{furtherExplanationOfClickableContent:" (Signaturen oder dunkelblaue Fahrradtrassen)"},hintergrund:{additionalDatasources:Object(g.jsx)("p",{children:Object(g.jsx)("ul",{children:Object(g.jsxs)("li",{children:[Object(g.jsx)("strong",{children:"Fernw\xe4rme"}),": Kartendienst (WMS) der Stadt Wuppertal in Zusammenarbeit mit der"," ",Object(g.jsx)("a",{target:"_wsw",href:"https://www.wsw-online.de/wsw-energie-wasser/privatkunden/produkte/fernwaerme/talwaerme-wuppertal/",children:"WSW GmbH"}),". Datengrundlage: Fernw\xe4rmeleitungen der Wuppertaler Stadtwerke GmbH (Stand 02.2021) mit einer Puffergr\xf6\xdfe von 10 m. \xa9"," ",Object(g.jsx)("a",{target:"_wsw",href:"https://www.wsw-online.de/impressum/",children:"Wuppertaler Stadtwerke GmbH"}),"."]})})})}},children:Object(g.jsx)(M.a,{menuIcon:"bars",menuTitle:"Meine Klimaorte, Einstellungen und Kompaktanleitung",menuFooter:Object(g.jsx)(E,{}),menuIntroduction:Object(g.jsxs)("span",{children:["Benutzen Sie die Auswahlm\xf6glichkeiten unter"," ",Object(g.jsx)(T.Link,{className:"useAClassNameToRenderProperLink",to:"filter",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("filter")},children:"Meine Klimaorte"}),", um die in der Karte angezeigten vorbildlichen Klimaorte auf die f\xfcr Sie relevanten Themen zu beschr\xe4nken. \xdcber"," ",Object(g.jsx)(T.Link,{className:"useAClassNameToRenderProperLink",to:"settings",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("settings")},children:"Einstellungen"})," ","k\xf6nnen Sie die Darstellung der Hintergrundkarte und der klimarelevanten Themen an Ihre Interesse anpassen. W\xe4hlen Sie die"," ",Object(g.jsx)(T.Link,{className:"useAClassNameToRenderProperLink",to:"help",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("help")},children:"Kompaktanleitung"})," ","f\xfcr detailliertere Bedienungsinformationen."]}),menuSections:[Object(g.jsx)(I.a,{sectionKey:"filter",sectionTitle:function(){var e,t=(null===o||void 0===o?void 0:o.length)||0;return e=1===t?"Standort":"Standorte","Meine Klimaorte (".concat(t," ").concat(e," gefunden, davon ").concat((null===l||void 0===l?void 0:l.length)||"0"," in der Karte)")}(),sectionBsStyle:"primary",sectionContent:Object(g.jsx)(P.a,{filterConfiguration:H})},"filter"),Object(g.jsx)(B.a,{},"settings"),Object(g.jsx)(I.a,{sectionKey:"help",sectionTitle:"Kompaktanleitung",sectionBsStyle:"default",sectionContent:Object(g.jsx)(L.a,{configs:Object(u.d)("Klimaortkarte Wuppertal",undefined)})},"help")]})})},R=function(e){return Object(g.jsx)("span",{style:{whiteSpace:"nowrap"},children:e.children})},G=n(285),q=n(388),J=function(){var e=Object(i.useContext)(z.a),t=e.selectedFeature,n=e.items,r=null===t||void 0===t?void 0:t.properties,a=Object(g.jsx)("div",{style:{fontSize:"11px"},children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("b",{children:[document.title," v",W()]}),":"," ",Object(g.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(g.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(g.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",_.a]})," ","|"," ",Object(g.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})});if(void 0!==r){var o,l,s,d,c,u,j,b,h,m,f,p;void 0!==r.bild&&(p="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+r.bild);var O,x=n.filter((function(e){return(null===e||void 0===e?void 0:e.standort.id)===r.standort.id&&e.id!==r.id})),k={},y=Object(v.a)(x);try{for(y.s();!(O=y.n()).done;){var S=O.value;void 0===k[S.thema.name]&&(k[S.thema.name]=[]),k[S.thema.name].push(S.kategorien)}}catch(F){y.e(F)}finally{y.f()}var w=[Object(g.jsx)(G.a,{bsStyle:"info",header:"Standort: "+(null===r||void 0===r||null===(o=r.standort)||void 0===o?void 0:o.name),children:Object(g.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[(null===r||void 0===r?void 0:r.standort)&&Object(g.jsxs)("b",{children:[null===r||void 0===r||null===(l=r.standort)||void 0===l?void 0:l.strasse," ",null===r||void 0===r||null===(s=r.standort)||void 0===s?void 0:s.hausnummer,Object(g.jsx)("br",{}),null===r||void 0===r||null===(d=r.standort)||void 0===d?void 0:d.plz," ",null===r||void 0===r||null===(c=r.standort)||void 0===c?void 0:c.stadt,Object(g.jsx)("br",{})]}),(null===r||void 0===r||null===(u=r.standort)||void 0===u?void 0:u.beschreibung)&&Object(g.jsxs)("div",{children:[null===r||void 0===r||null===(j=r.standort)||void 0===j?void 0:j.beschreibung,Object(g.jsx)("br",{})]}),(null===r||void 0===r||null===(b=r.standort)||void 0===b?void 0:b.bemerkung)&&Object(g.jsxs)("div",{children:[null===r||void 0===r||null===(h=r.standort)||void 0===h?void 0:h.bemerkung," ",Object(g.jsx)("br",{})]}),(null===r||void 0===r||null===(m=r.standort)||void 0===m?void 0:m.kommentar)&&Object(g.jsxs)("div",{children:[null===r||void 0===r||null===(f=r.standort)||void 0===f?void 0:f.kommentar," ",Object(g.jsx)("br",{})]})]})},"standort")];x.length>0&&w.push(Object(g.jsx)(G.a,{header:"Weitere Angebote an diesem Standort:",bsStyle:"success",children:Object(g.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(g.jsx)("table",{border:0,style:{xwidth:"100%"},children:Object(g.jsx)("tbody",{children:Object.keys(k).map((function(e,t){return Object(g.jsxs)("tr",{style:{paddingBottom:10},children:[Object(g.jsxs)("td",{style:{verticalAlign:"top",padding:5},children:[e,":"]},"addAng.L."+t),Object(g.jsx)("td",{style:{verticalAlign:"top",padding:5},children:k[e].map((function(e,t){return Object(g.jsx)("div",{children:e.join(", ")},"kategorien."+t)}))},"addAng.R."+t)]},"addAng"+t)}))})})})},"weitereAngebote"));var C=void 0;return void 0!==p&&(C=250),Object(g.jsx)(q.a,{titleIconName:"info-circle",title:"Datenblatt: "+r.kategorien.join(", "),mainSection:Object(g.jsxs)("div",{style:{width:"100%",minHeight:C},children:[void 0!==p&&Object(g.jsx)("img",{alt:"Bild",style:{paddingLeft:10,paddingRight:10,float:"right",paddingBottom:"5px"},src:p,width:"250"}),Object(g.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[r.beschreibung&&Object(g.jsxs)("b",{children:[r.beschreibung,Object(g.jsx)("br",{})]}),r.bemerkung&&Object(g.jsxs)("div",{children:[r.bemerkung," ",Object(g.jsx)("br",{})]}),r.kommentar&&Object(g.jsxs)("div",{children:[r.kommentar," ",Object(g.jsx)("br",{})]})]})]}),subSections:w,footer:a})}return null},Z=function(){var e=Object(f.a)(m.a.mark((function e(t){var n,i,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="GazDataForStories",i={},e.next=4,Object(S.c)(n,U+"/data/adressen.json");case 4:return i.adressen=e.sent,e.next=7,Object(S.c)(n,U+"/data/bezirke.json");case 7:return i.bezirke=e.sent,e.next=10,Object(S.c)(n,U+"/data/quartiere.json");case 10:return i.quartiere=e.sent,e.next=13,Object(S.c)(n,U+"/data/bpklimastandorte.json");case 13:i.bpklimastandorte=e.sent,r=Object(w.b)(i,["bpklimastandorte","bezirke","quartiere","adressen"]),t(r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Q=function(){var e=Object(i.useContext)(z.b),t=e.setSelectedFeatureByPredicate,n=(e.setFilterState,Object(i.useContext)(z.a)),r=n.selectedFeature,a=n.items,o=Object(i.useContext)(d.b).zoomToFeature,l=Object(i.useState)([]),s=Object(k.a)(l,2),c=s[0],u=s[1];Object(i.useEffect)((function(){Z(u)}),[]);var j,v,b=null===r||void 0===r?void 0:r.properties,h=!1;return b&&(h=a.filter((function(e){return(null===e||void 0===e?void 0:e.standort.id)===b.standort.id&&e.id!==b.id})).length>0||void 0!==(null===r||void 0===r||null===(j=r.properties)||void 0===j?void 0:j.bemerkung)||void 0!==(null===r||void 0===r||null===(v=r.properties)||void 0===v?void 0:v.kommentar)),Object(g.jsx)(F.a,{applicationMenuTooltipString:"Filter | Einstellungen | Anleitung",locatorControl:!0,modalMenu:Object(g.jsx)(H,{}),gazData:c,gazetteerSearchPlaceholder:"Klimaort | Stadtteil | Adresse",infoBox:Object(g.jsx)(C.a,{pixelwidth:400,config:{displaySecondaryInfoAction:h,city:"Wuppertal",navigator:{noun:{singular:"Klimaort",plural:"Klimaorte"}},noCurrentFeatureTitle:"Keine Klimaorte gefunden",noCurrentFeatureContent:""}}),secondaryInfo:Object(g.jsx)(J,{}),gazetteerHitTrigger:function(e){var n,i;Array.isArray(e)&&(null===(n=e[0])||void 0===n||null===(i=n.more)||void 0===i?void 0:i.id)&&t((function(t){try{var n=parseInt(t.properties.standort.id)===e[0].more.id;return!0===n&&o(t),n}catch(i){return!1}}))},children:Object(g.jsx)(y.a,{})})},U="https://wupp-topicmaps-data.cismet.de";var V=function(){return Object(g.jsx)(d.c,{appKey:"BestPracticeKlimaschutzWuppertal.TopicMap",featureTooltipFunction:function(e){return null===e||void 0===e?void 0:e.text},featureItemsURL:U+"/data/bpklima.data.json",referenceSystemDefinition:l.b.proj4crs25832def,mapEPSGCode:"25832",referenceSystem:l.b.crs25832,getFeatureStyler:j.a,convertItemToFeature:O,clusteringOptions:{iconCreateFunction:Object(u.c)(30,(function(e){return e.color}))},clusteringEnabled:!0,itemFilterFunction:b,titleFactory:x,classKeyFunction:function(e){var t;return null===(t=e.thema)||void 0===t?void 0:t.name},getColorFromProperties:function(e){var t;return null===e||void 0===e||null===(t=e.thema)||void 0===t?void 0:t.farbe},additionalLayerConfiguration:{fernwaerme:{title:Object(g.jsxs)("span",{children:["Fernw\xe4rme"," ",Object(g.jsx)(s.a,{style:{color:"#EEB48C",width:"30px",textAlign:"center"},name:"circle"})]}),initialActive:!0,layer:Object(g.jsx)(c.a,{url:"https://maps.wuppertal.de/deegree/wms",layers:"fernwaermewsw ",format:"image/png",tiled:"true",transparent:"true",maxZoom:19,opacity:.7},"fernwaermewsw")}},children:Object(g.jsx)(Q,{})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,709)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),a(e),o(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(V,{})}),document.getElementById("root")),X()}},[[703,1,2]]]);
//# sourceMappingURL=main.1b6f2a30.chunk.js.map