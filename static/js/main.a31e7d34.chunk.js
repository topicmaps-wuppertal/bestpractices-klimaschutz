(this["webpackJsonpbestpractices-klimaschutz"]=this["webpackJsonpbestpractices-klimaschutz"]||[]).push([[0],{388:function(e,t,n){},390:function(e,t,n){},703:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(20),a=n.n(o),l=(n(388),n(14)),d=n(21),s=n.n(d),c=n(42),u=(n(390),n(391),n(392),n(393),n(394),n(66)),v=n(199),j=n(26),h=n(45),b=n(380),m=n(170),f=n(382),p=n(378),g=n(162),O=n(5),x=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,i,r,o,a,l,d,c,u,v,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.b)(t,(function(e){return e.thema.icon}));case 2:return c=e.sent,u=(null===c||void 0===c||null===(n=c.standort)||void 0===n?void 0:n.name)||"Kein Standort","Feature",!1,v=null===c||void 0===c||null===(i=c.standort)||void 0===i?void 0:i.geojson,null===c||void 0===c||null===(r=c.thema)||void 0===r?void 0:r.farbe,c.color=null===c||void 0===c?void 0:c.thema.farbe,j={header:c.thema.name,title:u,additionalInfo:null===c||void 0===c?void 0:c.beschreibung,subtitle:Object(O.jsxs)("span",{children:[null===c||void 0===c||null===(o=c.standort)||void 0===o?void 0:o.strasse," ",null===c||void 0===c||null===(a=c.standort)||void 0===a?void 0:a.hausnummer,Object(O.jsx)("br",{}),null===c||void 0===c||null===(l=c.standort)||void 0===l?void 0:l.plz," ",null===c||void 0===c||null===(d=c.standort)||void 0===d?void 0:d.stadt]})},c.info=j,c.url=null===c||void 0===c?void 0:c.website,c.bild&&(c.foto="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+c.bild),e.abrupt("return",{text:u,type:"Feature",selected:false,geometry:v,crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::25832"}},properties:c});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=n(9),y=n(22),S=n(284),w=n(383),z="0.9.2",C=function(){return z},K=n(143),F=function(){var e=Object(i.useContext)(y.a),t=e.selectedFeature,n=e.items,r=null===t||void 0===t?void 0:t.properties,o=Object(O.jsx)("div",{style:{fontSize:"11px"},children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("b",{children:[document.title," v",C()]}),":"," ",Object(O.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(O.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(O.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",K.a]})," ","|"," ",Object(O.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})});if(void 0!==r){var a,l,d,s,c,u,v,j,h,b,m,f;void 0!==r.bild&&(f="https://www.wuppertal.de/geoportal/standort_klima/fotos/"+r.bild);var p,g=n.filter((function(e){return(null===e||void 0===e?void 0:e.standort.id)===r.standort.id&&e.id!==r.id})),x={},z=Object(k.a)(g);try{for(z.s();!(p=z.n()).done;){var F=p.value;void 0===x[F.thema.name]&&(x[F.thema.name]=[]),x[F.thema.name].push(F.kategorien)}}catch(M){z.e(M)}finally{z.f()}var T=[Object(O.jsx)(S.a,{bsStyle:"info",header:"Standort: "+(null===r||void 0===r||null===(a=r.standort)||void 0===a?void 0:a.name),children:Object(O.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[(null===r||void 0===r?void 0:r.standort)&&Object(O.jsxs)("b",{children:[null===r||void 0===r||null===(l=r.standort)||void 0===l?void 0:l.strasse," ",null===r||void 0===r||null===(d=r.standort)||void 0===d?void 0:d.hausnummer,Object(O.jsx)("br",{}),null===r||void 0===r||null===(s=r.standort)||void 0===s?void 0:s.plz," ",null===r||void 0===r||null===(c=r.standort)||void 0===c?void 0:c.stadt,Object(O.jsx)("br",{})]}),(null===r||void 0===r||null===(u=r.standort)||void 0===u?void 0:u.beschreibung)&&Object(O.jsxs)("div",{children:[null===r||void 0===r||null===(v=r.standort)||void 0===v?void 0:v.beschreibung,Object(O.jsx)("br",{})]}),(null===r||void 0===r||null===(j=r.standort)||void 0===j?void 0:j.bemerkung)&&Object(O.jsxs)("div",{children:[null===r||void 0===r||null===(h=r.standort)||void 0===h?void 0:h.bemerkung," ",Object(O.jsx)("br",{})]}),(null===r||void 0===r||null===(b=r.standort)||void 0===b?void 0:b.kommentar)&&Object(O.jsxs)("div",{children:[null===r||void 0===r||null===(m=r.standort)||void 0===m?void 0:m.kommentar," ",Object(O.jsx)("br",{})]})]})},"standort")];g.length>0&&T.push(Object(O.jsx)(S.a,{header:"Weitere Angebote an diesem Standort:",bsStyle:"success",children:Object(O.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(O.jsx)("table",{border:0,style:{xwidth:"100%"},children:Object(O.jsx)("tbody",{children:Object.keys(x).map((function(e,t){return Object(O.jsxs)("tr",{style:{paddingBottom:10},children:[Object(O.jsxs)("td",{style:{verticalAlign:"top",padding:5},children:[e,":"]},"addAng.L."+t),Object(O.jsx)("td",{style:{verticalAlign:"top",padding:5},children:x[e].map((function(e,t){return Object(O.jsx)("div",{children:e.join(", ")},"kategorien."+t)}))},"addAng.R."+t)]},"addAng"+t)}))})})})},"weitereAngebote"));var A=void 0;return void 0!==f&&(A=250),Object(O.jsx)(w.a,{titleIconName:"info-circle",title:"Datenblatt: "+r.kategorien.join(", "),mainSection:Object(O.jsxs)("div",{style:{width:"100%",minHeight:A},children:[void 0!==f&&Object(O.jsx)("img",{alt:"Bild",style:{paddingLeft:10,paddingRight:10,float:"right",paddingBottom:"5px"},src:f,width:"250"}),Object(O.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[r.beschreibung&&Object(O.jsxs)("b",{children:[r.beschreibung,Object(O.jsx)("br",{})]}),r.bemerkung&&Object(O.jsxs)("div",{children:[r.bemerkung," ",Object(O.jsx)("br",{})]}),r.kommentar&&Object(O.jsxs)("div",{children:[r.kommentar," ",Object(O.jsx)("br",{})]})]})]}),subSections:T,footer:o})}return null},T=n(7),A=n(19),M=n(86),I=n(222),B=n(116),L=n(381),P=n(231),N=n(229),_=function(){var e=Object(i.useContext)(A.b).setAppMenuActiveMenuSection;return Object(O.jsxs)("div",{style:{fontSize:"11px"},children:[Object(O.jsx)("b",{children:"Hintergrundkarten"}),": Stadtkarte 2.0 \xa9 RVR | True Orthophoto 2020 \xa9 Stadt Wuppertal"," ",Object(O.jsx)("a",{className:"pleaseRenderAsLink",onClick:function(){e("help"),M.scroller.scrollTo("Datengrundlage",{containerId:"myMenu"})},children:"(Details und Nutzungsbedingungen)"}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("b",{children:[document.title," v",C()]}),":"," ",Object(O.jsx)("a",{href:"https://cismet.de/",target:"_cismet",children:"cismet GmbH"})," ","auf Basis von"," ",Object(O.jsx)("a",{href:"http://leafletjs.com/",target:"_more",children:"Leaflet"})," ","und"," ",Object(O.jsxs)("a",{href:"https://cismet.de/#refs",target:"_cismet",children:["cids | react-cismap v",K.a]})," ","|"," ",Object(O.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cismet.de/datenschutzerklaerung.html",children:"Datenschutzerkl\xe4rung (Privacy Policy)"})]})]})},D=function(){var e,t=Object(i.useContext)(A.b).setAppMenuActiveMenuSection,n=Object(i.useContext)(y.a),r=n.filterState,o=n.filterMode,a=n.filteredItems,l=n.shownFeatures,d=Object(i.useContext)(y.b),s=d.setFilterState,c=d.setFilterMode,u=Object(i.useContext)(y.a).items,v=[],j=[],b=[],m=[],f=Object(k.a)(u||[]);try{for(f.s();!(e=f.n()).done;){var p,g=e.value,x=Object(k.a)(g.kategorien);try{for(x.s();!(p=x.n()).done;){var S=p.value;v.includes(S)||(j.push({key:S}),v.push(S))}}catch(z){x.e(z)}finally{x.f()}b.includes(g.thema.id)||(b.push(g.thema.id),m.push({key:g.thema.id,title:g.thema.name,color:g.thema.farbe}))}}catch(z){f.e(z)}finally{f.f()}var w={mode:"tabs",filters:[{title:"Themen",key:"themen",icon:"folder",type:"tags",values:m,setAll:function(){s(Object(T.a)(Object(T.a)({},r),{},{themen:b}))},setNone:function(){s(Object(T.a)(Object(T.a)({},r),{},{themen:[]}))},colorizer:function(e,t){return t?e.color:"#eeeeee"}},{title:"Kategorien",key:"kategorien",icon:"tags",type:"tags",values:j,setAll:function(){s(Object(T.a)(Object(T.a)({},r),{},{kategorien:v}))},setNone:function(){s(Object(T.a)(Object(T.a)({},r),{},{kategorien:[]}))}}]};void 0===r&void 0!==u&&s({kategorien:v,themen:b}),void 0===o&void 0!==u&&c("themen");return Object(O.jsx)(I.a,{menuIcon:"bars",menuTitle:"Meine Klimaschutzstandorte, Einstellungen und Kompaktanleitung",menuFooter:Object(O.jsx)(_,{}),menuIntroduction:Object(O.jsxs)("span",{children:["Benutzen Sie die Auswahlm\xf6glichkeiten unter"," ",Object(O.jsx)(M.Link,{className:"useAClassNameToRenderProperLink",to:"filter",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("filter")},children:"Meine Klimaschutzstandorte"}),", um die in der Karte angezeigten vorbildlichen Klimaschutzstandorte auf die f\xfcr Sie relevanten Themen zu beschr\xe4nken. \xdcber"," ",Object(O.jsx)(M.Link,{className:"useAClassNameToRenderProperLink",to:"settings",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("settings")},children:"Einstellungen"})," ","k\xf6nnen Sie die Darstellung der Hintergrundkarte und der klimarelevanten Themen an Ihre Interesse anpassen. W\xe4hlen Sie die"," ",Object(O.jsx)(M.Link,{className:"useAClassNameToRenderProperLink",to:"help",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return t("help")},children:"Kompaktanleitung"})," ","f\xfcr detailliertere Bedienungsinformationen."]}),menuSections:[Object(O.jsx)(B.a,{sectionKey:"filter",sectionTitle:function(){var e,t=(null===a||void 0===a?void 0:a.length)||0;return e=1===t?"Standort":"Standorte","Meine Klimaschutzstandorte (".concat(t," ").concat(e," gefunden, davon ").concat((null===l||void 0===l?void 0:l.length)||"0"," in der Karte)")}(),sectionBsStyle:"primary",sectionContent:Object(O.jsx)(L.a,{filterConfiguration:w})},"filter"),Object(O.jsx)(P.a,{},"settings"),Object(O.jsx)(B.a,{sectionKey:"help",sectionTitle:"Kompaktanleitung",sectionBsStyle:"default",sectionContent:Object(O.jsx)(N.a,{configs:Object(h.d)("Klimaorte Klimaschutz",undefined)})},"help")]})},E=function(e){var t=e.filterState,n=e.filterMode;return function(e){var i;if("themen"===n)return null===t||void 0===t||null===(i=t.themen)||void 0===i?void 0:i.includes(e.thema.id);if("kategorien"===n){var r,o=Object(k.a)(e.kategorien);try{for(o.s();!(r=o.n()).done;){var a,l=r.value;if(null===t||void 0===t||null===(a=t.kategorien)||void 0===a?void 0:a.includes(l))return!0}}catch(d){o.e(d)}finally{o.f()}return!1}return!0}},R=n(11),H=n(160),W=function(e){var t,n,i,r=e.featureCollectionContext,o=function(e){var t,n,i=null===r||void 0===r||null===(t=r.items)||void 0===t?void 0:t.find((function(t){var n;return(null===t||void 0===t||null===(n=t.thema)||void 0===n?void 0:n.id)===e}));return null===i||void 0===i||null===(n=i.thema)||void 0===n?void 0:n.name},a="?";if((null===r||void 0===r||null===(t=r.filteredItems)||void 0===t?void 0:t.length)===(null===r||void 0===r||null===(n=r.items)||void 0===n?void 0:n.length))a=void 0;else if("themen"===(null===r||void 0===r?void 0:r.filterMode)){var l,d;if((null===r||void 0===r||null===(l=r.filterState)||void 0===l||null===(d=l.themen)||void 0===d?void 0:d.length)<=2){var s,c,u=null===r||void 0===r||null===(s=r.filterState)||void 0===s?void 0:s.themen,v=[],j=Object(k.a)(u);try{for(j.s();!(c=j.n()).done;){var h=c.value;v.push(o(h))}}catch(w){j.e(w)}finally{j.f()}a="nach Themen gefiltert (nur "+v.join(", ")+")"}else{var b,m;a="nach Themen gefiltert ("+(null===r||void 0===r||null===(b=r.filterState)||void 0===b||null===(m=b.themen)||void 0===m?void 0:m.length)+" Themen)"}}else if("kategorien"===(null===r||void 0===r?void 0:r.filterMode)){var f,p,g,x,y,S;if((null===r||void 0===r||null===(f=r.filterState)||void 0===f||null===(p=f.kategorien)||void 0===p?void 0:p.length)<=3)a="nach Kategorien gefiltert (nur "+(null===r||void 0===r||null===(g=r.filterState)||void 0===g||null===(x=g.kategorien)||void 0===x?void 0:x.join(", "))+")";else a="nach Kategorien gefiltert ("+(null===r||void 0===r||null===(y=r.filterState)||void 0===y||null===(S=y.kategorien)||void 0===S?void 0:S.length)+" Kategorien)"}return 0===(null===r||void 0===r||null===(i=r.filteredItems)||void 0===i?void 0:i.length)?Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"Keine Klimastandorte gefunden!"})," Bitte \xfcberpr\xfcfen Sie Ihre Filtereinstellungen."]}):a?Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"Meine Klimastandorte:"})," ",a]}):void 0},G="https://wupp-topicmaps-data.cismet.de",q=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,i,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="GazDataForStories",i={},e.next=4,Object(u.c)(n,G+"/data/adressen.json");case 4:return i.adressen=e.sent,e.next=7,Object(u.c)(n,G+"/data/bezirke.json");case 7:return i.bezirke=e.sent,e.next=10,Object(u.c)(n,G+"/data/quartiere.json");case 10:return i.quartiere=e.sent,e.next=13,Object(u.c)(n,G+"/data/bpklimastandorte.json");case 13:i.bpklimastandorte=e.sent,r=Object(v.b)(i,["bpklimastandorte","bezirke","quartiere","adressen"]),t(r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var J=function(){var e=Object(i.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){q(r)}),[]),Object(O.jsx)(j.c,{appKey:"BestPracticeKlimaschutzWuppertal.TopicMap",featureTooltipFunction:function(e){return null===e||void 0===e?void 0:e.text},featureItemsURL:G+"/data/bpklima.data.json",getFeatureStyler:p.a,convertItemToFeature:x,clusteringOptions:{iconCreateFunction:Object(h.c)(30,(function(e){return e.color}))},clusteringEnabled:!0,itemFilterFunction:E,titleFactory:W,classKeyFunction:function(e){var t;return null===(t=e.thema)||void 0===t?void 0:t.name},getColorFromProperties:function(e){var t;return null===e||void 0===e||null===(t=e.thema)||void 0===t?void 0:t.farbe},additionalLayerConfiguration:{fernwaerme:{title:Object(O.jsxs)("span",{children:["Fernw\xe4rme"," ",Object(O.jsx)(R.a,{style:{color:"#EEB48C",width:"30px",textAlign:"center"},name:"circle"})]}),initialActive:!0,layer:Object(O.jsx)(H.a,{url:"https://maps.wuppertal.de/deegree/wms",layers:"fernwaermewsw ",format:"image/png",tiled:"true",transparent:"true",maxZoom:19,opacity:.7},"fernwaermewsw")}},children:Object(O.jsx)(b.a,{applicationMenuTooltipString:"Filtern | Einstellungen | Kompaktanleitung",locatorControl:!0,modalMenu:Object(O.jsx)(D,{}),gazData:n,gazetteerSearchPlaceholder:"Klimastandort | Stadtteil | Adresse",infoBox:Object(O.jsx)(f.a,{pixelwidth:400,config:{displaySecondaryInfoAction:!0,city:"Wuppertal",navigator:{noun:{singular:"Standort",plural:"Standorte"}},noCurrentFeatureTitle:"Keine Standorte gefunden",noCurrentFeatureContent:""}}),secondaryInfo:Object(O.jsx)(F,{}),children:Object(O.jsx)(m.a,{})})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,709)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),o(e),a(e)}))};a.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(J,{})}),document.getElementById("root")),U()}},[[703,1,2]]]);
//# sourceMappingURL=main.a31e7d34.chunk.js.map